# ============================================================================
# KeneyApp Environment Configuration
# ============================================================================
# IMPORTANT: Copy this file to .env and update with your actual values
# Never commit .env to version control!
# ============================================================================

# ----------------------------------------------------------------------------
# Application Configuration
# ----------------------------------------------------------------------------
APP_NAME=KeneyApp
APP_VERSION=2.0.0
DEBUG=False

# Set to True only in development. NEVER in production!
# When True, provides detailed error messages and auto-reload
# DEBUG=True

# ----------------------------------------------------------------------------
# Security Configuration
# ----------------------------------------------------------------------------
# SECRET_KEY: Used for JWT token signing and encryption
# CRITICAL: Generate a secure random key for production!
# Example: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-secret-key-change-in-production-min-32-chars

# JWT Configuration
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Password Policy
MIN_PASSWORD_LENGTH=8
MAX_FAILED_LOGIN_ATTEMPTS=5
ACCOUNT_LOCKOUT_DURATION_MINUTES=30

# ----------------------------------------------------------------------------
# Database Configuration
# ----------------------------------------------------------------------------
# PostgreSQL connection string format:
# postgresql://username:password@hostname:port/database_name
DATABASE_URL=postgresql://keneyapp:keneyapp@localhost:5432/keneyapp

# Connection pool settings (optional, defaults are fine for most cases)
# DB_POOL_SIZE=5
# DB_MAX_OVERFLOW=10
# DB_POOL_TIMEOUT=30

# ----------------------------------------------------------------------------
# CORS Configuration
# ----------------------------------------------------------------------------
# Comma-separated list of allowed origins
# In production, specify exact domains (no wildcards)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000

# For production with specific domains:
# ALLOWED_ORIGINS=https://app.yourdomain.com,https://api.yourdomain.com

# ----------------------------------------------------------------------------
# Redis Configuration
# ----------------------------------------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
# REDIS_SSL=False
# REDIS_SSL_CERT_REQS=required

# ----------------------------------------------------------------------------
# Celery Configuration
# ----------------------------------------------------------------------------
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# Celery task configuration
# CELERY_TASK_SOFT_TIME_LIMIT=300
# CELERY_TASK_TIME_LIMIT=600
# CELERY_WORKER_PREFETCH_MULTIPLIER=4

# ----------------------------------------------------------------------------
# OAuth2/OIDC Configuration (Optional)
# ----------------------------------------------------------------------------
# Leave blank if not using OAuth providers
# Google OAuth
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# Microsoft OAuth
MICROSOFT_CLIENT_ID=
MICROSOFT_CLIENT_SECRET=

# Okta OAuth
OKTA_CLIENT_ID=
OKTA_CLIENT_SECRET=
OKTA_DOMAIN=

# Application URL for OAuth callbacks
APP_URL=http://localhost:8000

# ----------------------------------------------------------------------------
# Email Configuration (Optional - for notifications)
# ----------------------------------------------------------------------------
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@example.com
# SMTP_PASSWORD=your-app-password
# SMTP_FROM=noreply@keneyapp.com
# SMTP_TLS=True

# ----------------------------------------------------------------------------
# Monitoring & Observability (Optional)
# ----------------------------------------------------------------------------
# Sentry DSN for error tracking
# SENTRY_DSN=

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ----------------------------------------------------------------------------
# Feature Flags (Optional)
# ----------------------------------------------------------------------------
# Enable/disable specific features
ENABLE_GRAPHQL=True
ENABLE_FHIR=True
ENABLE_OAUTH=True
ENABLE_MFA=True

# ----------------------------------------------------------------------------
# Rate Limiting Configuration
# ----------------------------------------------------------------------------
RATE_LIMIT_PER_MINUTE=100
AUTH_RATE_LIMIT_PER_MINUTE=10

# ----------------------------------------------------------------------------
# File Upload Configuration (Optional)
# ----------------------------------------------------------------------------
# MAX_FILE_SIZE_MB=10
# ALLOWED_FILE_EXTENSIONS=.pdf,.jpg,.png,.doc,.docx

# ----------------------------------------------------------------------------
# Backup Configuration (Optional)
# ----------------------------------------------------------------------------
# BACKUP_ENABLED=True
# BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
# BACKUP_RETENTION_DAYS=30

# ============================================================================
# Production Deployment Notes
# ============================================================================
# 1. Generate a strong SECRET_KEY
# 2. Set DEBUG=False
# 3. Configure proper DATABASE_URL with strong credentials
# 4. Limit ALLOWED_ORIGINS to your actual domains
# 5. Enable HTTPS/SSL for all connections
# 6. Set up proper logging and monitoring
# 7. Configure backups
# 8. Review and enable relevant security headers
# 9. Set up proper error tracking (Sentry)
# 10. Configure rate limiting based on your needs
# ============================================================================
